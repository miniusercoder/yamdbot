# Проект Телеграм-бот для поиска и загрузки музыки

## Описание

Этот проект представляет собой Телеграм-бота, который использует API Яндекс.Музыки для поиска треков и их загрузки. Бот
поддерживает как inline-режим, так и обработку сообщений в приватных чатах. Также предусмотрена возможность обновления
токена Яндекс.Музыки через команду.

## Установка

1. Клонируйте репозиторий:
   ```sh
   git clone https://github.com/miniusercoder/yamdbot.git
   cd yamdbbot
   ```

2. Установите необходимые зависимости:
   ```sh
   pip install -r requirements.txt
   ```

3. Переименуйте файл `.env.example` в `.env` и заполните его необходимыми значениями:
   ```sh
   mv .env.example .env
   ```

4. Переименуйте файл `config.example.json` в `config.json` и заполните его необходимыми значениями:
   ```sh
   mv config.example.json config.json
   ```

## Использование

Для запуска бота выполните следующую команду:

```sh
python run.py
```

Бот будет запущен и готов к использованию. Вы можете начать взаимодействие с ним через Телеграм.

## Основные функции

### Inline-режим

Введите запрос в поле для inline-поиска в Телеграме и выберите одного из найденных треков. Бот вернет список треков,
соответствующих вашему запросу, с возможностью их прослушивания.

### Приватные сообщения

Отправьте сообщение с запросом в приватный чат с ботом. Бот вернет список треков, соответствующих вашему запросу, с
возможностью их загрузки и прослушивания.

### Команда /token

Команда для обновления токена Яндекс.Музыки. Доступна только администратору. Пример использования:

```
/token новый_токен
```

## Переменные окружения

В файле `.env` должны быть определены следующие переменные:

- `BOT_API`: Токен вашего Телеграм-бота.
- `ADMIN_ID`: ID администратора, который имеет право обновлять токен Яндекс.Музыки.
- `YANDEX_SECRET_KEY`: Секретный ключ для доступа к API Яндекс.Музыки.
- `WORKERS_COUNT`: Количество потоков для обработки запросов.
- `FILES_CHANNEL`: Канал для загрузки файлов (для обхода ограничений telegram).

## Требования

- Python 3.8+
- Телеграм-бот
- Токен Яндекс.Музыки

## Лицензия

Этот проект лицензируется на условиях лицензии MIT. См. файл LICENSE для подробностей.
